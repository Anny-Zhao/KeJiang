<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HPMS Research Group - Research</title>
    <!-- 添加网站图标 -->
    <link rel="icon" type="image/jpeg" href="images/1.jpg">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="header-placeholder"></div> <!-- 公共 HTML 文件占位符 -->
    <div class="container">
        <div class="sidebar">
            <div id="author_bio-placeholder"></div>
        </div>
        <div class="content">
            <h1 class="heading-medium">High-Performance Structures</h1>
            <p>I have been conducting experimental and numerical studies into high-performance steel, aluminium and composite structures and developing new design approaches accordingly. The high performance of metallic structures is achieved by advanced materials (stainless steel, high strength steel and high strength aluminium) or advanced manufacturing methods (cold-formed customised sections and 3D metal printing). All of the published papers can be found on this page.</p>
            <h2 class="heading-small"style="text-indent: 2em;">•	 <a href="Stainless.html">Stainless Steel Connections & Members</a></h2>
            <div id="imgList">
                <div class="img">
                <ul>
                    <li id="imgLi" data="0"></li>
                </ul>
                </div>
                <div class="num">
                    <ul>
                        <li class="class"><a></a></li>
                        <li><a></a></li>
                        <li><a></a></li>
                        <li><a></a></li>
                    </ul>
                </div>
                <div id="button">
                    <div class="pre" onclick="pre();">&lt;</div>
                    <div class="next" onclick="pre();">&gt;</div>
                </div>
            </div>
        </div>
    </div>
    <footer>
        <p>High-Performance Metallic Structure (HPMS) Research Group @ University of Canterbury, New Zealand</p>
    </footer>

    <script>
        var imgArr=["s1.jpg","s2.jpg","s3.jpg","s4.jpg"];
        var index=0;
        function show(){//自动切换
            if(index<3){
                index++;
                //改变li的背景图片并加上一个data属性值
                $("#imgLi").css("background-image","url("+imgArr[index]+")").attr("data",index);
                //改变选中圆点
                $(".num ul li").eq(index).addClass("class").siblings().removeClass("class");
            }else{
                index=0;
                $("#imgLi").css("background-image","url("+imgArr[index]+")").attr("data",index);
                $(".num ul li").eq(index).addClass("class").siblings().removeClass("class");
            }
        }
        setInterval(show,6000);
        function pre(){//上一个按钮
            var data= $("#imgLi").attr("data");
            var num=parseInt(data)-1;
            if(num<0){
                num=3;
                $("#imgLi").css("background-image","url("+imgArr[num]+")").attr("data",num);
                $(".num ul li").eq(num).addClass("class").siblings().removeClass("class");
            }else{
                $("#imgLi").css("background-image","url("+imgArr[num]+")").attr("data",num);
                $(".num ul li").eq(num).addClass("class").siblings().removeClass("class");
            }
        }
        function next(){//下一个按钮
            var data= $("#imgLi").attr("data");
            var num=parseInt(data)+1;
            if(num>3){
                num=0;
                $("#imgLi").css("background-image","url("+imgArr[num]+")").attr("data",num);
            }else{
                $("#imgLi").css("background-image","url("+imgArr[num]+")").attr("data",num);
            }
        }
        $(".num ul li").click(function(){//圆点按钮
            $(".num ul li").eq($(this).index()).addClass("class").siblings().removeClass("class");
            var number=$(this).index();
            $("#imgLi").css("background-image","url("+imgArr[number]+")").attr("data",number);
        })

        // 动态加载公共 HTML 文件
        document.addEventListener('DOMContentLoaded', () => {
            // 加载 header.html
            fetch('inputs/header.html')
                .then(response => response.text())
                .then(data => {
                    document.getElementById('header-placeholder').innerHTML = data;
                    
                    // header 加载完成后初始化导航菜单
                    initializeNavigation();
                })
                .catch(error => console.error('加载失败:', error));
    
            // 加载 author_bio.html
            fetch('inputs/author_bio.html')
                .then(response => response.text())
                .then(data => {
                    document.getElementById('author_bio-placeholder').innerHTML = data;
                })
                .catch(error => console.error('加载失败:', error));
        });
    
        // 导航菜单初始化函数
        function initializeNavigation() {
            // 移动端菜单切换
            const menuToggle = document.querySelector('.menu-toggle');
            const nav = document.querySelector('nav');
            if (menuToggle && nav) {
                menuToggle.addEventListener('click', () => {
                    nav.classList.toggle('open');
                });
            }
    
            // Research 下拉菜单
            const dropdownParent = document.querySelector('.has-dropdown');
            if (dropdownParent) {
                // 点击 Research 菜单时的处理
                dropdownParent.addEventListener('click', (event) => {
                    // 只有点击 Research 链接时才切换菜单
                    if (event.target === dropdownParent.querySelector('a')) {
                        event.preventDefault();
                        dropdownParent.classList.toggle('open');
                    }
                });
    
                // 点击页面其他地方时关闭菜单
                document.addEventListener('click', (event) => {
                    if (!dropdownParent.contains(event.target)) {
                        dropdownParent.classList.remove('open');
                    }
                });
    
                // 允许点击下拉菜单中的链接
                const dropdownLinks = dropdownParent.querySelectorAll('.dropdown a');
                dropdownLinks.forEach(link => {
                    link.addEventListener('click', (event) => {
                        event.stopPropagation(); // 阻止事件冒泡
                    });
                });
            }
        }
        </script>
</body>
</html>
